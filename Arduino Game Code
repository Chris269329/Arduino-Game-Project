#include "Timer.h"

Timer stopwatch;

void setup() {
  //defining pins 2 and 5 as the switches
  pinMode(2, INPUT);
  pinMode(3, OUTPUT);
  pinMode(5, INPUT);
  Serial.begin(9600);
  //Explains the game and how to proceed
  Serial.println("\nWelcome to Counting Seconds, the game where you have to use your intuition to assume how much time has been spent. The goal of the game is to click the button as close as possible to the selected time after the LED lights up.");
  delay(3000);
  Serial.println("You have 10 seconds to decide. Flip the switch ON to play on 5 second mode, flip it OFF to play on 3 second mode");
  delay(10000);
  //Creates a variable for each switch
  int output1 = digitalRead(2);
  int output2 = digitalRead(5);
  //If the switch is on, it will go to 5 second mode
  if (output1 == HIGH) {
    Serial.println("You have selected 5 second mode");
    delay(1000);
    Serial.println("The game will begin when the LED lights up");
    delay(5000);
    digitalWrite(3, HIGH);
    stopwatch.start();
    
  }
  //If the switch is off, it will go to 3 second mode
  if (output1 == LOW) {
    Serial.println("You have selected 3 second mode");
    delay(1000);
    Serial.println("The game will begin when the LED lights up");
    delay(5000);
    digitalWrite(3, HIGH);
    stopwatch.start();
  }
}

void loop() {
  //The Arduino will read the second switch and end the timer when it is turned on
  int output2 = digitalRead(5);
  if (output2 == LOW) {
      digitalRead(5);
    }
  if (output2 == HIGH) {
        stopwatch.stop();
        Serial.print("time elapsed ms: ");
        Serial.println(stopwatch.read());
        while(true);
      }
}
